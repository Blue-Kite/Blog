---
title: Next.js 블로그 만들기
description: 나만의 블로그를 기획부터 배포까지
date: 2025-03-27
category: dev
---

## 들어가며

1. 멋.
   notion, tistory, velog 등 유명한 플랫폼을 제쳐두고 굳이 굳이 처음부터 개발하고 운영한다는 것은 피곤한 일이다. 그럼에도 블로그를 내 맘대로 커스텀마이징 할 수 있다는 점이 매력적이었다.

2. 기술적 욕심.
   프로젝트 세팅, 디자인, 개발, 배포까지 한 사이클을 완결시키고 유지보수 해야 하는 점에서 좋은 경험이 될 것으로 생각했다. 그리고 Next.js라는 기술 스택을 사용해 보고 싶었다. 수많은 장점을 차치하고 일단 **핫해 보였다.**
   리액트처럼 대세를 넘어서 약간 프론트엔드 그 자체가 될지는 모르겠지만, 채용 공고에도 자주 보여서 관련된 프로젝트 하나 가져보고 싶었다.

![썸네일](/images/make-blog/doit.jpg)

## 기획

### 폴더 구조

```
public            # 이미지
src/
├── app/          # app 라우터 파일
├── components/   # 공통 UI 컴포넌트
├── config/       # 공통 설정(상수, 폰트, 타입, global css)
├── data/         # 블로그 글
├── lib/          # 유틸 함수

```

### 기술 스택

1. Framework: Next.js

2. Design: Tailwind CSS + Shadcn/ui

3. 글 작성 및 파싱: MDX + Gray-matter + Next-MDX-Remote

4. 댓글: Giscus ( [공식 문서](https://giscus.app/ko) )

5. 배포: AWS

## 개발

### 다크모드 구현 및 폰트 적용

<Callout type="info">
OTF VS TTF 폰트 파일 차이는 무엇인가?
</Callout>

### 포스팅 목록/상세 구현

## 배포

배포할 때 주로 Vercel을 사용했다. Vercel은 알아서 다 해줘 딱히 할 게 없었다. 기껏해야 환경변수 추가하기 정도? 
그래서 이번에는 AWS를 사용해보고자 했다. API 연동이 없어서 정적 배포로도 충분할 거 같았다. S3 + CloudFront + Route53 조합을 이용했으며 가비아에서 도메인을 구매했다. Next.js 15 기준으로 프로젝트에선 2가지 작업이 필요했다. 

1. `package.json` 파일의 script에 next build 추가

2  `next.config.js` 를 아래처럼 변경

```

import type { NextConfig } from 'next';
import createMDX from '@next/mdx';

const nextConfig: NextConfig = {
  /* config options here */
  pageExtensions: ['js', 'jsx', 'md', 'mdx', 'ts', 'tsx'],
  output: 'export',
  trailingSlash: true,
};
const withMDX = createMDX({});

export default withMDX(nextConfig);


```
next build를 실행하면, Next.js는 HTML/CSS/JS가 있는 out 폴더를 만든다. 모든 페이지가 빌드 타임에 생성된 SSG이다.
trailingSlash: true는 URL 끝에 /를 붙이는 옵션이다. `/about     → /about/index.html`
Next.js는 정적 배포에서 `<Image/>`컴포넌트의 최적화 기능을 사용할 수 없다. [관련 Next.js 문서](https://nextjs.org/docs/messages/export-image-api)

배포 과정을 요약하면 다음 그림과 같다.

![이미지 테스트](/images/make-blog/deploy.png)

## 참고
1. 블로그 구성
   - [https://github.com/d5br5/nextjs-tailwind-blog](https://github.com/d5br5/nextjs-tailwind-blog)

2. 토스트(sonner)
   - [Sonner 공식 사이트](https://sonner.emilkowal.ski/)
   - [Shadcn Sonner 문서](https://v3.shadcn.com/docs/components/sonner)
   - [Sonner Toaster](https://sonner.emilkowal.ski/toaster)

3. 배포
   - [Next.js 공식 사이트](https://nextjs.org/docs/app/guides/static-exports)